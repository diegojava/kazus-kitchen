---
const { id } = Astro.props;
import { Image } from "astro:assets";
import chef from "../assets/images/acercade.jpg"; 

const title = "ACERCA DE KAZU";

const longText = [
  `A los 22 años dejó su tierra natal y llegó a México, donde rápidamente comenzó a hacer gala de su destreza en la cocina y experiencias con chefs icónicos a nivel internacional, aprovechando la ola de cocina nipona que apenas iniciaba. El reconocimiento nacional se consolidó con el éxito del restaurante japonés Tori Tori y posteriormente Torobi y Murasaki, respectivamente, así como la creación del menú de la ruta aérea Ciudad de México – Tokyo de la mano de Aeroméxico, colaboración que continúa actualmente.`,
  `Ahora Kumoto decide rendir homenaje a sus raíces y reencontrarse con la pasión de cocinar el platillo ideal, más allá de la estética, en Kazu’s Kitchen; un espacio donde lo más importante es degustar las delicias de la cocina japonesa de alto nivel como si tuvieras al chef más exclusivo en tu cocina; en este caso, Kazu.`,
];

---

<section  transition:animate="slide" id={id} class="w-full bg-[#3f4448] text-white scroll-mt-20 md:scroll-mt-0">
  <div class="grid min-h-[100svh] grid-cols-1 md:grid-cols-2">
    <!-- Col izquierda (texto) -->
    <div class="flex items-center">
      <div class="w-full px-10 py-14 md:px-16">
        <h2 class="font-serif text-5xl tracking-[0.18em] md:text-6xl">
          KAZU KUMOTO
        </h2>

        <div class="mt-10 h-px w-40 bg-white/35"></div>

        <p class="mt-10 max-w-xl font-serif text-[15px] leading-8 text-white/55">
          Kazu Kumoto nació en Kumamoto, Japón, en medio de una familia restaurantera,
          y aunque las mujeres no figuraban en las cocinas profesionales, esto no fue
          impedimento para que con escasos 18 años de edad Kazu comenzara a cocinar
          platillos tradicionales y decidiera incursionar en la escena gastronómica.
        </p>

        <button
          type="button"
          class="cursor-pointer mt-10 inline-flex items-center gap-2 font-serif text-sm tracking-[0.18em] text-white/80 underline underline-offset-8 hover:text-white transition"
          data-open-about
        >
          Leer más…
        </button>
      </div>
    </div>

    <!-- Col derecha (imagen) -->
    <div class="relative min-h-[55svh] md:min-h-[100svh]">
      <Image
        src={chef}
        alt="Chef Kazu"
        class="absolute inset-0 h-full w-full object-cover"
        sizes="(min-width: 768px) 50vw, 100vw"
        priority
      />
      <!-- sombreado sutil para que se integre -->
      <div class="absolute inset-0 bg-black/10"></div>
    </div>
  </div>

  <!-- Modal -->
  <!-- Modal -->
<dialog
  class="about-dialog m-auto w-[min(980px,92vw)] rounded-sm bg-white p-0 text-zinc-700 shadow-2xl"
  data-about-dialog
  aria-label={title}
>
  <!-- Header -->
  <div class="relative border-b border-zinc-200 px-10 py-8">
    <h3 class="font-serif text-4xl tracking-[0.12em] text-zinc-700">
      {title}
    </h3>

    <button
      type="button"
      class="cursor-pointer absolute right-6 top-6 grid h-10 w-10 place-items-center rounded-full text-zinc-400 hover:bg-zinc-100 hover:text-zinc-600"
      data-close-about
      aria-label="Cerrar"
    >
      ✕
    </button>
  </div>

  <!-- Body (scroll interno) -->
  <div class="max-h-[70vh] overflow-auto px-10 py-8">
    <div class="space-y-8 text-[15px] leading-8 text-zinc-500">
      {longText.map((p) => <p>{p}</p>)}
    </div>

    <div class="mt-10 border-t border-zinc-200 pt-6">
      <button
        type="button"
        class="cursor-pointer w-full rounded-sm border bg-zinc-600 border-zinc-200 py-4 text-center text-xs tracking-[0.2em] text-zinc-50"
        data-close-about
      >
        CERRAR
      </button>
    </div>
  </div>
</dialog>
   <script is:inline>
    const dialog = document.querySelector("[data-about-dialog]");
    const openAbout = document.querySelector("[data-open-about]");
    const closeBtns = document.querySelectorAll("[data-close-about]");

    // abre
    openAbout?.addEventListener("click", () => {
      if (!dialog) return;
      dialog.showModal();
      document.documentElement.classList.add("overflow-hidden");
    });

    // cierra (botones)
    closeBtns.forEach((b) =>
      b.addEventListener("click", () => {
        dialog?.close();
      })
    );
     // click en backdrop (fuera del panel)
    dialog?.addEventListener("click", (e) => {
      const rect = dialog.getBoundingClientRect();
      const clickedInDialog =
        e.clientX >= rect.left &&
        e.clientX <= rect.right &&
        e.clientY >= rect.top &&
        e.clientY <= rect.bottom;

      if (!clickedInDialog) dialog.close();
    });

    // al cerrar: re-habilita scroll
    dialog?.addEventListener("close", () => {
      document.documentElement.classList.remove("overflow-hidden");
    });
  </script>
 <style>
    /* Backdrop oscuro como en el sitio */
    .about-dialog::backdrop {
      background: rgba(0, 0, 0, 0.55);
    }

    /* Quita estilos raros del dialog en algunos navegadores */
    .about-dialog {
      border: none;
    }
  </style>
</section>
